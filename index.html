<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NCLEX Practice - Interactive Learning</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;
        const { CheckCircle, XCircle, RotateCcw, BookOpen, Award, TrendingUp } = lucide;

        const NCLEXPracticeApp = () => {
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [selectedAnswer, setSelectedAnswer] = useState('');
            const [showFeedback, setShowFeedback] = useState(false);
            const [score, setScore] = useState({ correct: 0, total: 0 });
            const [answeredQuestions, setAnsweredQuestions] = useState(new Set());

            // Sample NCLEX-style questions with detailed explanations
            const questions = [
                {
                    id: 1,
                    category: "Pharmacology",
                    question: "A client is receiving digoxin (Lanoxin) 0.25 mg PO daily. Before administering the medication, which assessment is most important for the nurse to perform?",
                    options: [
                        "Check blood pressure",
                        "Assess apical pulse for 1 full minute", 
                        "Review recent lab values",
                        "Evaluate respiratory rate"
                    ],
                    correct: 1,
                    explanations: [
                        "While BP monitoring is important, it's not the priority before digoxin administration.",
                        "✅ CORRECT: Digoxin affects heart rate and rhythm. The apical pulse must be assessed for 1 full minute before administration. Hold if HR <60 bpm in adults or notify provider per protocol.",
                        "Lab values are important but the immediate priority is cardiac assessment before each dose.",
                        "Respiratory rate, while part of vital signs, is not the priority assessment for digoxin."
                    ],
                    rationale: "Digoxin is a cardiac glycoside that can cause bradycardia and arrhythmias. The apical pulse is the most accurate way to assess heart rate and must be checked before each dose to ensure safe administration.",
                    nursingProcess: "Assessment",
                    clientNeed: "Physiological Integrity - Pharmacological Therapies"
                },
                {
                    id: 2,
                    category: "Medical-Surgical",
                    question: "A nurse is caring for a client with chronic heart failure. Which finding would indicate that the client's condition is worsening?",
                    options: [
                        "Weight loss of 2 pounds over 3 days",
                        "Decreased peripheral edema",
                        "Weight gain of 3 pounds in 2 days",
                        "Clear lung sounds"
                    ],
                    correct: 2,
                    explanations: [
                        "Weight loss would indicate improvement in fluid retention, not worsening.",
                        "Decreased peripheral edema indicates improvement in heart failure management.",
                        "✅ CORRECT: Rapid weight gain (2-3 lbs in 24-48 hours) indicates fluid retention and worsening heart failure. This requires immediate intervention.",
                        "Clear lung sounds indicate absence of pulmonary edema, which is a positive finding."
                    ],
                    rationale: "In heart failure, the heart's decreased pumping ability leads to fluid retention. Daily weights are the most sensitive indicator of fluid status changes. Rapid weight gain signals fluid accumulation before other symptoms appear.",
                    nursingProcess: "Assessment",
                    clientNeed: "Physiological Integrity - Physiological Adaptation"
                },
                {
                    id: 3,
                    category: "Pediatric Nursing",
                    question: "A 6-month-old infant is admitted with bronchiolitis. Which intervention should the nurse prioritize?",
                    options: [
                        "Administering antibiotics as ordered",
                        "Maintaining adequate hydration and monitoring respiratory status",
                        "Teaching parents about medication administration",
                        "Providing high-calorie formula"
                    ],
                    correct: 1,
                    explanations: [
                        "Bronchiolitis is typically viral, so antibiotics are not the primary treatment unless secondary bacterial infection occurs.",
                        "✅ CORRECT: Bronchiolitis causes airway inflammation and increased mucus production. Priority is maintaining airway patency and adequate hydration. Monitor for respiratory distress.",
                        "While parent education is important, it's not the immediate priority during acute illness.",
                        "Nutrition is important but respiratory support and hydration take priority in acute bronchiolitis."
                    ],
                    rationale: "Bronchiolitis primarily affects the small airways in infants. The priority is always airway and breathing (ABC's). Maintaining hydration helps thin secretions, and close respiratory monitoring allows for early intervention if distress occurs.",
                    nursingProcess: "Implementation",
                    clientNeed: "Physiological Integrity - Physiological Adaptation"
                },
                {
                    id: 4,
                    category: "Mental Health",
                    question: "A client with major depression tells the nurse, 'I don't think the medication is helping. I still feel hopeless.' What is the nurse's best response?",
                    options: [
                        "You should be more positive about your treatment",
                        "It takes time for antidepressants to work effectively",
                        "I understand this is frustrating. Let's talk about what you're experiencing and discuss this with your provider",
                        "Many people feel this way when starting treatment"
                    ],
                    correct: 2,
                    explanations: [
                        "This dismisses the client's feelings and is not therapeutic communication.",
                        "While true, this doesn't acknowledge the client's current distress or provide support.",
                        "✅ CORRECT: This validates the client's feelings, encourages therapeutic communication, and involves the healthcare team in reassessing treatment effectiveness.",
                        "This minimizes the client's individual experience and doesn't provide specific help."
                    ],
                    rationale: "Therapeutic communication involves active listening, validation of feelings, and collaborative problem-solving. The nurse should acknowledge the client's distress while facilitating communication with the provider about treatment effectiveness.",
                    nursingProcess: "Implementation", 
                    clientNeed: "Psychosocial Integrity"
                },
                {
                    id: 5,
                    category: "Maternal-Newborn",
                    question: "A postpartum client is breastfeeding her newborn. She reports sore, cracked nipples. What should the nurse recommend first?",
                    options: [
                        "Switch to bottle feeding temporarily",
                        "Apply lanolin cream after each feeding",
                        "Check the baby's latch and positioning",
                        "Limit feeding time to 10 minutes per side"
                    ],
                    correct: 2,
                    explanations: [
                        "Switching to bottle feeding isn't necessary and could interfere with breastfeeding establishment.",
                        "While lanolin can help, addressing the root cause (poor latch) is the priority.",
                        "✅ CORRECT: Poor latch and positioning are the most common causes of nipple pain and damage. Correcting these addresses the root problem.",
                        "Limiting feeding time doesn't address the underlying cause and may lead to inadequate nutrition for the baby."
                    ],
                    rationale: "Nipple pain during breastfeeding is usually caused by poor latch technique. The baby should have a wide, asymmetric latch with more areola visible above the lip than below. Correcting positioning prevents further damage and promotes healing.",
                    nursingProcess: "Implementation",
                    clientNeed: "Health Promotion and Maintenance"
                },
                {
                    id: 6,
                    category: "Fundamentals",
                    question: "A nurse is preparing to insert a urinary catheter. Which action demonstrates proper sterile technique?",
                    options: [
                        "Opening the sterile package by pulling the corners outward",
                        "Reaching across the sterile field to get supplies",
                        "Using clean gloves throughout the procedure",
                        "Cleaning the meatus with the same swab twice"
                    ],
                    correct: 0,
                    explanations: [
                        "✅ CORRECT: Opening sterile packages by pulling corners outward prevents contamination of the sterile contents. Never reach over or across the sterile field.",
                        "This would contaminate the sterile field. Never reach across a sterile area.",
                        "Sterile gloves are required for catheter insertion, not just clean gloves.",
                        "Each swab should only be used once, in a front-to-back motion, then discarded."
                    ],
                    rationale: "Sterile technique is essential for procedures that involve entering sterile body cavities. The principles include: maintaining a sterile field, using sterile supplies, and avoiding contamination through proper movements and handling.",
                    nursingProcess: "Implementation",
                    clientNeed: "Safe and Effective Care Environment - Safety and Infection Control"
                }
            ];

            const currentQ = questions[currentQuestion];

            const handleAnswerSelect = (answerIndex) => {
                if (!showFeedback) {
                    setSelectedAnswer(answerIndex);
                }
            };

            const handleSubmitAnswer = () => {
                if (selectedAnswer === '') return;
                
                setShowFeedback(true);
                setAnsweredQuestions(prev => new Set([...prev, currentQuestion]));
                
                const newScore = { ...score, total: score.total + 1 };
                if (selectedAnswer === currentQ.correct) {
                    newScore.correct = score.correct + 1;
                }
                setScore(newScore);
            };

            const handleNextQuestion = () => {
                if (currentQuestion < questions.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                    setSelectedAnswer('');
                    setShowFeedback(false);
                }
            };

            const handleRestart = () => {
                setCurrentQuestion(0);
                setSelectedAnswer('');
                setShowFeedback(false);
                setScore({ correct: 0, total: 0 });
                setAnsweredQuestions(new Set());
            };

            const isCorrect = selectedAnswer === currentQ.correct;
            const percentage = score.total > 0 ? Math.round((score.correct / score.total) * 100) : 0;

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
                    <div className="max-w-4xl mx-auto">
                        {/* Header */}
                        <div className="bg-white rounded-xl shadow-lg p-6 mb-6">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center space-x-3">
                                    <div className="bg-blue-100 p-3 rounded-full">
                                        <BookOpen className="w-8 h-8 text-blue-600" />
                                    </div>
                                    <div>
                                        <h1 className="text-3xl font-bold text-gray-800">NCLEX Practice</h1>
                                        <p className="text-gray-600">Interactive Learning with Detailed Feedback</p>
                                    </div>
                                </div>
                                <button 
                                    onClick={handleRestart}
                                    className="flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors"
                                >
                                    <RotateCcw className="w-4 h-4" />
                                    <span>Restart</span>
                                </button>
                            </div>
                        </div>

                        {/* Progress Bar */}
                        <div className="bg-white rounded-xl shadow-lg p-6 mb-6">
                            <div className="flex justify-between items-center mb-4">
                                <div className="flex items-center space-x-4">
                                    <div className="flex items-center space-x-2">
                                        <TrendingUp className="w-5 h-5 text-green-600" />
                                        <span className="font-semibold">Question {currentQuestion + 1} of {questions.length}</span>
                                    </div>
                                    <div className="flex items-center space-x-2">
                                        <Award className="w-5 h-5 text-yellow-600" />
                                        <span className="font-semibold">{score.correct}/{score.total} ({percentage}%)</span>
                                    </div>
                                </div>
                                <div className="bg-blue-100 px-3 py-1 rounded-full">
                                    <span className="text-blue-800 font-medium">{currentQ.category}</span>
                                </div>
                            </div>
                            <div className="w-full bg-gray-200 rounded-full h-3">
                                <div 
                                    className="bg-gradient-to-r from-blue-500 to-indigo-500 h-3 rounded-full transition-all duration-300"
                                    style={{ width: `${((currentQuestion + 1) / questions.length) * 100}%` }}
                                ></div>
                            </div>
                        </div>

                        {/* Question Card */}
                        <div className="bg-white rounded-xl shadow-lg p-8 mb-6">
                            <div className="mb-6">
                                <div className="flex items-start space-x-3 mb-4">
                                    <div className="bg-indigo-100 p-2 rounded-full mt-1">
                                        <span className="text-indigo-600 font-bold text-sm">Q{currentQ.id}</span>
                                    </div>
                                    <h2 className="text-xl font-semibold text-gray-800 leading-relaxed">
                                        {currentQ.question}
                                    </h2>
                                </div>
                            </div>

                            {/* Answer Options */}
                            <div className="space-y-3 mb-6">
                                {currentQ.options.map((option, index) => (
                                    <button
                                        key={index}
                                        onClick={() => handleAnswerSelect(index)}
                                        disabled={showFeedback}
                                        className={`w-full p-4 text-left rounded-lg border-2 transition-all duration-200 ${
                                            selectedAnswer === index
                                                ? showFeedback
                                                    ? index === currentQ.correct
                                                        ? 'border-green-500 bg-green-50'
                                                        : 'border-red-500 bg-red-50'
                                                    : 'border-blue-500 bg-blue-50'
                                                : 'border-gray-200 bg-gray-50 hover:border-gray-300 hover:bg-gray-100'
                                        } ${showFeedback ? 'cursor-default' : 'cursor-pointer'}`}
                                    >
                                        <div className="flex items-center justify-between">
                                            <div className="flex items-center space-x-3">
                                                <div className={`w-6 h-6 rounded-full border-2 flex items-center justify-center text-sm font-bold ${
                                                    selectedAnswer === index
                                                        ? showFeedback
                                                            ? index === currentQ.correct
                                                                ? 'border-green-500 bg-green-500 text-white'
                                                                : 'border-red-500 bg-red-500 text-white'
                                                            : 'border-blue-500 bg-blue-500 text-white'
                                                        : 'border-gray-400 text-gray-600'
                                                }`}>
                                                    {String.fromCharCode(65 + index)}
                                                </div>
                                                <span className="font-medium text-gray-800">{option}</span>
                                            </div>
                                            {showFeedback && index === currentQ.correct && (
                                                <CheckCircle className="w-5 h-5 text-green-500" />
                                            )}
                                            {showFeedback && selectedAnswer === index && index !== currentQ.correct && (
                                                <XCircle className="w-5 h-5 text-red-500" />
                                            )}
                                        </div>
                                    </button>
                                ))}
                            </div>

                            {/* Submit Button */}
                            {!showFeedback && (
                                <button
                                    onClick={handleSubmitAnswer}
                                    disabled={selectedAnswer === ''}
                                    className="w-full py-3 bg-gradient-to-r from-blue-500 to-indigo-500 text-white font-semibold rounded-lg hover:from-blue-600 hover:to-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"
                                >
                                    Submit Answer
                                </button>
                            )}
                        </div>

                        {/* Feedback Section */}
                        {showFeedback && (
                            <div className="bg-white rounded-xl shadow-lg p-8 mb-6">
                                <div className={`flex items-center space-x-3 mb-6 ${isCorrect ? 'text-green-600' : 'text-red-600'}`}>
                                    {isCorrect ? <CheckCircle className="w-6 h-6" /> : <XCircle className="w-6 h-6" />}
                                    <h3 className="text-xl font-bold">
                                        {isCorrect ? 'Correct! Well done!' : 'Incorrect, but great learning opportunity!'}
                                    </h3>
                                </div>

                                {/* Answer Explanations */}
                                <div className="mb-6">
                                    <h4 className="font-semibold text-gray-800 mb-4">Answer Explanations:</h4>
                                    <div className="space-y-3">
                                        {currentQ.explanations.map((explanation, index) => (
                                            <div key={index} className={`p-3 rounded-lg ${
                                                index === currentQ.correct 
                                                    ? 'bg-green-50 border border-green-200' 
                                                    : 'bg-gray-50 border border-gray-200'
                                            }`}>
                                                <div className="flex items-start space-x-3">
                                                    <span className={`w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold ${
                                                        index === currentQ.correct
                                                            ? 'bg-green-500 text-white'
                                                            : 'bg-gray-400 text-white'
                                                    }`}>
                                                        {String.fromCharCode(65 + index)}
                                                    </span>
                                                    <p className="text-gray-700">{explanation}</p>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                {/* Detailed Rationale */}
                                <div className="bg-blue-50 p-6 rounded-lg mb-6">
                                    <h4 className="font-semibold text-blue-800 mb-3">📚 Detailed Rationale:</h4>
                                    <p className="text-blue-700 leading-relaxed">{currentQ.rationale}</p>
                                </div>

                                {/* NCLEX Categories */}
                                <div className="grid md:grid-cols-2 gap-4 mb-6">
                                    <div className="bg-purple-50 p-4 rounded-lg">
                                        <h5 className="font-semibold text-purple-800 mb-2">Nursing Process:</h5>
                                        <p className="text-purple-700">{currentQ.nursingProcess}</p>
                                    </div>
                                    <div className="bg-orange-50 p-4 rounded-lg">
                                        <h5 className="font-semibold text-orange-800 mb-2">Client Need:</h5>
                                        <p className="text-orange-700">{currentQ.clientNeed}</p>
                                    </div>
                                </div>

                                {/* Next Button */}
                                {currentQuestion < questions.length - 1 ? (
                                    <button
                                        onClick={handleNextQuestion}
                                        className="w-full py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-200"
                                    >
                                        Next Question →
                                    </button>
                                ) : (
                                    <div className="text-center">
                                        <div className="bg-gradient-to-r from-purple-100 to-pink-100 p-6 rounded-lg">
                                            <h3 className="text-2xl font-bold text-gray-800 mb-2">Quiz Complete! 🎉</h3>
                                            <p className="text-gray-600 mb-4">
                                                Final Score: {score.correct}/{score.total} ({percentage}%)
                                            </p>
                                            <button
                                                onClick={handleRestart}
                                                className="px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200"
                                            >
                                                Try Again
                                            </button>
                                        </div>
                                    </div>
                                )}
                            </div>
                        )}

                        {/* Footer */}
                        <div className="text-center text-gray-600 text-sm">
                            <p>💪 You've got this! Every question is a step closer to becoming an amazing nurse.</p>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<NCLEXPracticeApp />);
    </script>
</body>
</html>
